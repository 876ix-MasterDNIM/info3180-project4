<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Register</title>
    <link rel="stylesheet" href="../static/css/materialize.min.css" />
    <script type="text/javascript" src="../static/scripts/angular.min.js"></script>
    <script type="text/javascript" src="../static/scripts/angular-route.min.js"></script>
    <script type="text/javascript" src="../static/scripts/angular-messages.min.js"></script>
</head>
<body class="teal lighten-1">
    <!--NAVIGATION-->
    <nav>
        <div class="nav-wrapper  teal darken-1">
            <a href="#" class="brand-logo">&nbsp; Wishlist<sup>&reg;</sup></a>
        </div>
    </nav>
    <!--NAVIGATION-->



    <div class="row valign-wrapper">
        <div class="col s12 m7 center-block">
            <div class="card hoverable center">
                <div class="card-image">
                    <h3 class="teal" style="color: white; padding: 5px;">Register</h3>
                    <img class="center-block" style="width: 50%; height: auto;" src="../static/images/logo.gif">
                </div>
                <div class="card-content">
                    <div class="row valign-wrappers">
                        <form name="registerForm" method="post" action="/api/user/register" onsubmit="return validate()">
                            <div class="row">
                                <div class="input-field col s8">
                                    <input id="name" name="name" type="text" />
                                    <label data-error="Invalid Name" for="name">Display Name</label>
                                </div>
                            </div>
                            <div class="row">
                                <div class="input-field col s4">
                                    <input id="email" name="email" type="text" />
                                    <label data-error="Invalid Email" for="email">Email</label>
                                </div>
                                <div class="input-field col s4">
                                    <input id="password" name="password" type="password" />
                                    <label data-error="Password Should Contain Atleast 1 Number and A Letter" for="password">Password</label>
                                </div>
                                <div class="input-field col s4">
                                    <input id="login" class="btn teal waves-effect waves-light" type="submit" value="Register">
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="../static/scripts/jquery-1.10.2.min.js"></script>
    <script src="../static/scripts/materialize.min.js"></script>
    <script src="../static/scripts/app.js"></script>
    <script>
        var name = $( '#name' )
        var email = $( '#email' )
        var password = $( '#password' )

        var pattern_password = /([a-zA-Z]+[\d]+|[\d]+[a-zA-Z]+)[^\s]*/;
        var pattern_email = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;

        $( '#email' ).focusout( function () {
            if ( pattern_email.test( $( '#email' ).val() ) == false )
            {
                $( '#email' ).addClass( 'invalid' );
            } else
            {
                $( '#email' ).removeClass( 'invalid' );
            }
        } );

        $( '#password' ).focusout( function () {
            if ( pattern_password.test( $( '#password' ).val() ) == false )
            {
                $( '#password' ).addClass( 'invalid' );
            } else
            {
                $( '#password' ).removeClass( 'invalid' );
            }
        } );

        function validate()
        {
            return !( $( '#password' ).hasClass( 'invalid' ) || $( '#name' ).hasClass( 'invalid' ) || $( '#email' ).hasClass( 'invalid' ) )
        }
    </script>
</body>

</html>
